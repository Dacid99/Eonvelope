{% load static %}
{% load translate from i18n %}

<header class="sticky-top shadow">
    <nav class="navbar navbar-expand-lg bg-body-tertiary" role="navigation">
        <div class="container-fluid">
            <a class="navbar-brand" href="{% url 'web:dashboard' %}">
                <img class="me-1"
                     src="{% static 'eonvelope/icons/favicon.svg' %}"
                     alt="Eonvelope"
                     height="26"
                     width="26" />
                Eâˆ˜nvelope
            </a>
            <button class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target=".collapse"
                    aria-controls="navbar-nav"
                    aria-expanded="false"
                    aria-label="{% translate 'Toggle navigation' %}">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse nav-pills" id="navbarNav">
                <div class="navbar-nav me-auto">
                    <div class="nav-item btn-group">
                        <button type="button"
                                class="btn dropdown-toggle-split pe-0 nav-link {% if 'email' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %}"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            {% translate "Emails" %}
                            <span class="visually-hidden">{% translate "Toggle Dropdown" %}</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="{% url 'web:email-filter-list' %}"><i class="fa-solid fa-list mx-1" aria-hidden="true"></i>{% translate "List" %}</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'web:email-table' %}"><i class="fa-solid fa-table-list mx-1" aria-hidden="true"></i>{% translate "Table" %}</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'web:email-archive-index' %}"><i class="fa-solid fa-timeline mx-1" aria-hidden="true"></i>{% translate "Timeline" %}</a>
                            </li>
                        </ul>
                        <a role="button"
                           class="btn nav-link {% if 'email' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %} "
                           href="{% url 'web:email-filter-list' %}">
                            <i class="fa-regular fa-envelope" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="nav-item btn-group">
                        <button type="button"
                                class="btn dropdown-toggle-split pe-0 nav-link {% if 'attachment' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %}"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            {% translate "Attachments" %}

                            <span class="visually-hidden">{% translate "Toggle Dropdown" %}</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="{% url 'web:attachment-filter-list' %}"><i class="fa-solid fa-list mx-1" aria-hidden="true"></i>{% translate "List" %}</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'web:attachment-table' %}"><i class="fa-solid fa-table-list mx-1" aria-hidden="true"></i>{% translate "Table" %}</a>
                            </li>
                        </ul>
                        <a role="button"
                           class="btn nav-link {% if 'attachment' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %} "
                           href="{% url 'web:attachment-filter-list' %}">
                            <i class="fa-solid fa-paperclip" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="nav-item btn-group">
                        <button type="button"
                                class="btn dropdown-toggle-split pe-0 nav-link {% if 'correspondent' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %}"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            {% translate "Correspondents" %}
                            <span class="visually-hidden">{% translate "Toggle Dropdown" %}</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item"
                                   href="{% url 'web:correspondent-filter-list' %}"><i class="fa-solid fa-list mx-1" aria-hidden="true"></i>{% translate "List" %}</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'web:correspondent-table' %}"><i class="fa-solid fa-table-list mx-1" aria-hidden="true"></i>{% translate "Table" %}</a>
                            </li>
                        </ul>
                        <a role="button"
                           class="btn nav-link {% if 'correspondent' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %} "
                           href="{% url 'web:correspondent-filter-list' %}">
                            <i class="fa-solid fa-address-book" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="navbar-nav me-auto">
                    <div class="nav-item btn-group">
                        <button type="button"
                                class="btn dropdown-toggle-split pe-0 nav-link {% if 'account' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %}"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            {% translate "Accounts" %}
                            <span class="visually-hidden">{% translate "Toggle Dropdown" %}</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="{% url 'web:account-filter-list' %}"><i class="fa-solid fa-list mx-1" aria-hidden="true"></i>{% translate "List" %}</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'web:account-table' %}"><i class="fa-solid fa-table-list mx-1" aria-hidden="true"></i>{% translate "Table" %}</a>
                            </li>
                        </ul>
                        <a role="button"
                           class="btn nav-link {% if 'account' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %} "
                           href="{% url 'web:account-filter-list' %}">
                            <i class="fa-solid fa-at"></i>
                        </a>
                    </div>
                    <div class="nav-item btn-group">
                        <button type="button"
                                class="btn dropdown-toggle-split pe-0 nav-link {% if 'mailbox' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %}"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            {% translate "Mailboxes" %}
                            <span class="visually-hidden">{% translate "Toggle Dropdown" %}</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="{% url 'web:mailbox-filter-list' %}"><i class="fa-solid fa-list mx-1" aria-hidden="true"></i>{% translate "List" %}</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'web:mailbox-table' %}"><i class="fa-solid fa-table-list mx-1" aria-hidden="true"></i>{% translate "Table" %}</a>
                            </li>
                        </ul>
                        <a role="button"
                           class="btn nav-link {% if 'mailbox' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %} "
                           href="{% url 'web:mailbox-filter-list' %}">
                            <i class="fa-solid fa-inbox" aria-hidden="true"></i>
                        </a>
                    </div>
                    <div class="nav-item btn-group">
                        <button type="button"
                                class="btn dropdown-toggle-split pe-0 nav-link {% if 'daemon' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %}"
                                data-bs-toggle="dropdown"
                                aria-expanded="false">
                            {% translate "Routines" %}
                            <span class="visually-hidden">{% translate "Toggle Dropdown" %}</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="dropdown-item" href="{% url 'web:daemon-filter-list' %}"><i class="fa-solid fa-list mx-1" aria-hidden="true"></i>{% translate "List" %}</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'web:daemon-table' %}"><i class="fa-solid fa-table-list mx-1" aria-hidden="true"></i>{% translate "Table" %}</a>
                            </li>
                        </ul>
                        <a role="button"
                           class="btn nav-link {% if 'daemon' in request.resolver_match.url_name %}link-light active{% else %}link-body-emphasis{% endif %} "
                           href="{% url 'web:daemon-filter-list' %}">
                            <i class="fa-solid fa-calendar-days" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="navbar-nav align-items-end">
                    {% if user.is_authenticated %}
                        <a role="button"
                           class="nav-link link-body-emphasis text-capitalize"
                           href="{% url 'account_logout' %}">
                            {{ user.username }}<i class="fa fa-user-circle mx-1" aria-hidden="true"></i>
                        </a>
                    {% else %}
                        <a role="button"
                           class="nav-link link-body-emphasis"
                           href="{% url 'account_login' %}">
                            Login<i class="fa fa-user-circle mx-1" aria-hidden="true"></i>
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>
</header>
